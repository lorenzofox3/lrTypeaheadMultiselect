!function(e,n){"use strict";e.module("lrTypeaheadMultiSelect",[]).controller("lrTypeaheadCtrl",["$q",function(e){var n=!1,t=[],l="",i=null,u={addValue:function(e){-1===this.valueCollection.indexOf(e)&&(this.valueCollection.push(e),t=[],l="",i=null)},removeValue:function(e){var n=this.valueCollection.indexOf(e);-1!==n?this.valueCollection.splice(n,1):this.valueCollection.pop()},suggest:function(u){var o=this;o.valueCollection=o.valueCollection||0,l=u,t=u?function(){n=!0,e.resolve(o.suggester(u)).then(function(e){t=e.filter(function(e){return-1===o.valueCollection.indexOf(e)}),i=t.length?t[0]:null})["finally"](function(){n=!1})}():[]},isHighlighted:function(e){return i===e},highlightPrevious:function(){var e=t.indexOf(i);i=e>=0&&t.length?t[e-1]:i},highlightNext:function(){var e=t.indexOf(i);i=e>=0&&e+1<t.length?t[e+1]:i}};return Object.create(u,{isLoading:{get:function(){return n}},suggestions:{get:function(){return t}},suggestionInput:{get:function(){return l}},highlighted:{get:function(){return i}},valueCollection:{value:[],writable:!0}})}]).directive("lrTypeahead",function(){return{scope:!0,bindToController:{valueCollection:"=lrTypeahead",suggester:"="},controller:"lrTypeaheadCtrl",controllerAs:"lrTypeaheadCtrl"}}).directive("lrSuggestionInput",["$timeout",function(e){return{require:"^lrTypeahead",link:function(n,t,l,i){var u=null,o="false"!==l.strictMode;t.bind("input",function(){null!==u&&e.cancel(u),u=e(function(){i.suggest(t[0].value),u=null},200)}),t.bind("keydown",function(e){n.$apply(function(){var n=e.keyCode;13===n?(!o||i.suggestions[0])&&(i.addValue(i.highlighted||t[0].value),t[0].value="",e.preventDefault()):8!==n||t[0].value?40===n?i.highlightNext():38===n&&i.highlightPrevious():i.removeValue()})})}}}])}(angular);
//# sourceMappingURL=lrTypeaheadMultiselect.min.js.map